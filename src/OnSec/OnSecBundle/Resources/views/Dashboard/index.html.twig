{% extends "::base.html.twig" %}

{% block title %}HSDOnSecBundle:Dashboard:index{% endblock %}

{% block content %}
    {% if is_granted('IS_AUTHENTICATED_FULLY') %}
        <p>Username: {{ app.user.getUsername() }}</p> logout
    {% endif %}
    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a data-toggle="tab" class="nav-link active" href="#menu1" role="tab">Meine Kurse</a>
        </li>
        <li class="nav-item">
            <a data-toggle="tab" class="nav-link unactive" href="#menu2" role="tab">Unterweisungen</a>
        </li>
    </ul>
    <div class="innercontainer">
        <input type="search" class="maininput" placeholder="Suche..."/>

        <div class="innerinnercontainer">
            <div class="tab-content">
                <div class="tab-pane fade in active" id="menu1">
                    <!--<div class="card-group">-->
                    {% for course in moderatorcourses %}
                        <div class="card">
                            <div class="card-header" data-target="#collapse1" data-toggle="collapse">
                                <h4 class="card-title">
                                    {{ course.getDescription() }}<span onclick="document.location.href = 'http://www.google.de'; return false"><i class="fa fa-users" aria-hidden="true"></i></span><span onclick="document.location.href = 'http://www.gmx.de'; return false"><i class="fa fa-cog"
                                                                                                  aria-hidden="true"></i></span>
                                </h4>
                            </div>
                            <div class="card-collapse collapse" id="collapse1">
                                <ul class="list-group">
                                    {% for instruction in course.getInstructions() %}
                                        <li class="list-group-item">{{ instruction.getDescription() }}</li>
                                    {% endfor %}
                                </ul>
                            </div>
                        </div>
                    {% endfor %}
                    <!--</div>-->
                </div>
                <div class="tab-pane fade" id="menu2">
                    {% for instruction in ownerinstructions %}
                    <div class="card">
                        <div class="card-header">
                            <h4 class="card-title">
                                {{ instruction.getDescription() }}<i class="fa fa-cog" aria-hidden="true"></i>
                                <div class="left red">Eigent&uuml;mer</div>
                            </h4>
                        </div>
                    </div>
                    {% endfor %}
                    {% if moderatorinstructions|length > 0 %}<hr>{% endif %}
                    {% for instruction in moderatorinstructions %}
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">
                                    {{ instruction.getDescription() }}<i class="fa fa-cog" aria-hidden="true"></i>
                                    <div class="left green">Bearbeiter</div>
                                </h4>
                            </div>
                        </div>
                    {% endfor %}
                    {% if userinstructions|length > 0 %}<hr>{% endif %}
                    {% for instruction in userinstructions %}
                        <div class="card">
                            <div class="card-header">
                                <h4 class="card-title">
                                    {{ instruction.getDescription() }}<i class="fa fa-cog" aria-hidden="true"></i>
                                    <div class="left blue">Nutzer</div>
                                </h4>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}
